import{O as c}from"./Overview.6786dda6.js";import{r as i,t as l,a as u,f as g}from"./openai.77e3754a.js";import{_ as p,f as h,z as w,k as f}from"./entry.6d76d18c.js";import"./index.ccbed6fa.js";function a(s,r){i(2,arguments);var t=l(s),e=u(r);return isNaN(e)?new Date(NaN):(e&&t.setDate(t.getDate()+e),t)}const d=(s=$fetch)=>{const r=t=>s(`https://www.tagesschau.de/archiv/allemeldungen?datum=${g(t,"yyyy-MM-dd")}`).then(e=>new DOMParser().parseFromString(e,"text/html")).then(e=>Array.from(e.querySelectorAll("li.teaser-mikro")).map(n=>({title:n.getElementsByTagName("h3")[0].innerText.trim(),url:"https://www.tagesschau.de"+n.getElementsByTagName("a")[0].getAttribute("href"),date:new Date(t.getFullYear(),t.getMonth(),t.getDate(),parseInt(n.querySelector("span.teaser-mikro__date").innerText.split(":")[0]),parseInt(n.querySelector("span.teaser-mikro__date").innerText.split(":")[1]))})));return{crawl(){const t=new Date;return Promise.all([r(a(t,0)),r(a(t,-1)),r(a(t,-2)),r(a(t,-3)),r(a(t,-4)),r(a(t,-5)),r(a(t,-6))]).then(e=>[...e[0],...e[1],...e[2],...e[3],...e[4],...e[5],...e[6]])},read(t){return s(t).then(e=>new DOMParser().parseFromString(e,"text/html")).then(e=>({content:Array.from(e.getElementsByTagName("article")[0].querySelectorAll("p.textabsatz")).map(o=>o.textContent).join(" ").trim(),teaserImg:e.querySelector("img.ts-image").getAttribute("src")}))}}},y={components:{Overview:c},methods:{createCrawlerTagesschau:d}};function _(s,r,t,e,o,n){const m=h("Overview");return f(),w(m,{crawler:n.createCrawlerTagesschau()},null,8,["crawler"])}const A=p(y,[["render",_]]);export{A as default};
